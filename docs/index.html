<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Radar</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="radar.js"></script>
    <link rel="stylesheet" href="radar.css">
</head>

<body>
    <svg id="radar"></svg>
    <script>
    source = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vR9kaD9zZ4ww3yL0gEgt5cV-JS1xTqqodpXAG06vUX6MjwDuJIyid7n-bL-zJ1mHqScZ0PbAr0bXEeg/pub?gid=280534549&single=true&output=csv';

    dataset = d3.csv(source).then(function(data) {

        return data;

    });

    var data = dataset.then(function(value) {

        return Promise.all(value.map(function(d) {

            return {
                label: d.label,
                quadrant: Number(d.quadrant),
                description: d.description,
                ring: Number(d.ring),
                active: Boolean(Number(d.active)),
                moved: Number(d.moved),
                link: d.link
            };

        }));

    });


    data.then(function(dx) {
        params = {
            svg_id: "radar",
            width: 1450,
            height: 1000,
            colors: {
                background: "#fff",
                grid: "#ffff",
                inactive: "#ddd"
            },
            title: "Radar",
            quadrants: [
                { name: "Languages & Frameworks" },
                { name: "Platforms & Environments" },
                { name: "Techniques" },
                { name: "Data Management & Analytics" }
            ],
            rings: [
                { name: "Adopt", color: "#1c5d99" },
                { name: "Trial", color: "#136f63" },
                { name: "Assess", color: "#ba2d0b" },
                { name: "Hold", color: "#a2a77f" }
            ],
            print_layout: true,
            // zoomed_quadrant: 0,
            //ENTRIES
            entries: dx
            //ENTRIES
        };

        return radar_visualization(params);
    });

    </script>
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-105375141-2', 'auto');
    ga('send', 'pageview');
    </script>
</body>

</html>